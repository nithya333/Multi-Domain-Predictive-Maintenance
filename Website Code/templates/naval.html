<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictive Maintenance of Naval Systems</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="min-h-screen bg-cover bg-center bg-no-repeat bg-fixed relative">
    <div class="absolute inset-0 bg-black/30 backdrop-blur-md"></div>
    <div class="relative z-10">
        <!-- Navbar -->
        <nav class="bg-white text-black p-6 shadow-md">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="https://static.vecteezy.com/system/resources/previews/002/212/976/non_2x/naval-fleet-black-linear-icon-vector.jpg"
                        alt="Logo" class="w-10 h-10">
                    <h2 class="text-3xl font-bold">NavoPredict</h2>
                </div>
                <a href="/" class="text-base font-bold flex items-center">
                    <i data-lucide="home" class="w-6 h-6 mr-2"></i> Home
                </a>
            </div>
        </nav>

        <!-- Arrow Sections -->
        <div class="w-full mx-auto bg-gradient-to-r from-red-100 to-red-400">
            <div class="flex flex-col md:flex-row text-white text-center">
                <!-- IoT Sensors -->
                <div
                    class="flex-1 p-6 bg-red-700 clip-arrow-inward-left transition-all duration-300 hover:bg-red-600 group">
                    <div class="flex justify-center items-center gap-2 group-hover:animate-shake">
                        <i data-lucide="cpu" class="w-8 h-8"></i>
                        <h2 class="text-xl font-bold">IoT Sensors</h2>
                    </div>
                </div>

                <!-- Monitored Components -->
                <div
                    class="flex-1 p-6 bg-red-800 clip-arrow-inward-left transition-all duration-300 hover:bg-red-700 group">
                    <div class="flex justify-center items-center gap-2 group-hover:animate-shake">
                        <i data-lucide="settings" class="w-8 h-8"></i>
                        <h2 class="text-xl font-bold">Monitored Components</h2>
                    </div>
                </div>

                <!-- Predictive Maintenance -->
                <div
                    class="flex-1 p-6 bg-red-900 clip-arrow-inward-left transition-all duration-300 hover:bg-red-800 group">
                    <div class="flex justify-center items-center gap-2 group-hover:animate-shake">
                        <i data-lucide="trending-up" class="w-8 h-8"></i>
                        <h2 class="text-xl font-bold">Predictive Maintenance</h2>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex flex-col md:flex-row justify-center items-stretch mt-6 px-4 gap-4 container mx-auto">
            <!-- Sensor Monitoring Card -->
            <div
                class="bg-white shadow-lg rounded-lg p-6 w-full text-center hover:shadow-xl hover:-translate-y-2 flex flex-col justify-between transition-all duration-300">
                <i data-lucide="cpu" class="w-12 h-12 mx-auto text-black mb-4" style="color: #dc2626;"></i>
                <p class="text-gray-600 mb-4">Advanced sensors continuously tracking key operational parameters.</p>
                <div class="border-t border-gray-300 pt-4 grid grid-cols-2 gap-4 text-gray-700 text-sm">
                    <div>
                        <h4 class="font-semibold text-black">Speed Log Sensor</h4>
                        <p class="text-gray-500 text-xs">Monitors vessel speed</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-black">Torque Sensor</h4>
                        <p class="text-gray-500 text-xs">Measures propulsion torque</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-black">Thermocouple</h4>
                        <p class="text-gray-500 text-xs">Monitors temperature levels</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-black">Pressure Sensor</h4>
                        <p class="text-gray-500 text-xs">Detects pressure variations</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-black">Actuator Feedback</h4>
                        <p class="text-gray-500 text-xs">Ensures actuator precision</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-black">Flow Meter</h4>
                        <p class="text-gray-500 text-xs">Measures fluid movement</p>
                    </div>
                </div>
            </div>

            <!-- Monitored Components Card -->
            <div
                class="bg-white shadow-lg rounded-lg p-6 w-full text-center hover:shadow-xl hover:-translate-y-2 flex flex-col justify-between transition-all duration-300">
                <i data-lucide="settings" class="w-12 h-12 mx-auto text-black mb-4" style="color: #dc2626;"></i>
                <p class="text-gray-600 mb-4">Critical components under real-time predictive monitoring.</p>
                <div class="mt-4 border-t border-gray-300 pt-4">
                    <div class="grid grid-cols-2 gap-y-3 gap-x-6 text-gray-700 text-sm text-left">
                        <div>
                            <h4 class="font-semibold text-black">Propeller</h4>
                            <p class="text-gray-500 text-xs">Performance & efficiency</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Hull</h4>
                            <p class="text-gray-500 text-xs">Structural integrity check</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Gas Turbines</h4>
                            <p class="text-gray-500 text-xs">Combustion & efficiency</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Gear Box</h4>
                            <p class="text-gray-500 text-xs">Transmission health</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Controller</h4>
                            <p class="text-gray-500 text-xs">Autonomous system feedback</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Predictive Maintenance Card -->
            <div
                class="bg-white shadow-lg rounded-lg p-6 w-full text-center hover:shadow-xl hover:-translate-y-2 flex flex-col justify-between transition-all duration-300">
                <i data-lucide="trending-up" class="w-12 h-12 mx-auto text-black mb-4" style="color: #dc2626;"></i>
                <p class="text-gray-600 mb-4">AI-driven analytics to prevent failures in naval vessel systems.</p>
                <div class="mt-4 border-t border-gray-300 pt-4">
                    <div class="grid grid-cols-2 gap-y-3 gap-x-6 text-gray-700 text-sm text-left">
                        <div>
                            <h4 class="font-semibold text-black">Decay Coefficient Monitoring</h4>
                            <p class="text-gray-500 text-xs">Tracks component degradation</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Linear Relationship Modeling</h4>
                            <p class="text-gray-500 text-xs">Correlates sensor data trends</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Anomaly Detection</h4>
                            <p class="text-gray-500 text-xs">Detects operational deviations</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-black">Early Failure Alerts</h4>
                            <p class="text-gray-500 text-xs">Preemptive maintenance insights</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Data Table -->
        <div
            class="bg-white shadow-lg rounded-lg m-6 p-6 w-full max-w-6xl mx-auto transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
            <h2 class="text-xl font-bold mb-4 text-gray-700 text-center">Formatting your Data</h2>
            <p class="text-md text-gray-500 text-center mb-4">Make sure your data is in the form of a file having
                these columns. It's very important that you know your system's history!</p>
            <div class="overflow-x-auto p-4">
                <table class="w-full border-collapse border border-gray-300 text-center">
                    <thead class="bg-gray-200">
                        <tr>
                            <th class="border border-gray-300 px-4 py-2">Lever position</th>
                            <th class="border border-gray-300 px-4 py-2">Ship speed</th>
                            <th class="border border-gray-300 px-4 py-2">Gas Turbine shaft torque</th>
                            <th class="border border-gray-300 px-4 py-2">Gas Turbine rate of revolutions</th>
                            <th class="border border-gray-300 px-4 py-2">Gas Generator rate of revolutions</th>
                            <th class="border border-gray-300 px-4 py-2">Starboard Propeller Torque</th>
                            <th class="border border-gray-300 px-4 py-2">Port Propeller Torque</th>
                            <th class="border border-gray-300 px-4 py-2">HP Turbine exit temperature</th>
                            <!-- <th class="border border-gray-300 px-4 py-2">TS2.txt</th> -->
                            <!-- <th class="border border-gray-300 px-4 py-2">TS4.txt</th> -->
                        </tr>
                    </thead>
                    <tbody class="bg-gray-200">
                        <tr class="text-black font-bold">
                            <td class="border border-gray-300 px-4 py-2">GT Compressor inlet air temperature</td>
                            <td class="border border-gray-300 px-4 py-2">GT Compressor outlet air temperature</td>
                            <td class="border border-gray-300 px-4 py-2">HP Turbine exit pressure</td>
                            <td class="border border-gray-300 px-4 py-2">GT Compressor inlet air pressure</td>
                            <td class="border border-gray-300 px-4 py-2">HP Turbine exit pressure</td>
                            <td class="border border-gray-300 px-4 py-2">Gas Turbine exhaust gas pressure</td>
                            <td class="border border-gray-300 px-4 py-2">Turbine Injecton Control</td>
                            <td class="border border-gray-300 px-4 py-2">Fuel flow</td>

                            <!-- <td class="border border-gray-300 px-4 py-2">60</td>
                            <td class="border border-gray-300 px-4 py-2">60</td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="relative flex justify-center">
                <form id="uploadForm" action="/naval" method="post" enctype="multipart/form-data">
                    <label class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded cursor-pointer">
                        Select Your Data
                        <input type="file" name="inp_file" class="hidden"
                            id="inp_file">
                        </label>
                        <button type="submit">Upload</button>
                </form>
            </div>
        </div>

        <!-- System Status -->
        <div
            class="bg-white shadow-lg rounded-lg m-6 p-6 w-full text-center max-w-6xl mx-auto transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
            <h2 class="text-xl font-bold text-gray-700 mb-4 flex justify-center gap-2">
                <i data-lucide="activity" class="w-6 h-6 text-gray-700"></i> System Status
            </h2>
            <h2>Prediction Graphs</h2>
            <img src="data:image/png;base64,{{ img_base64 }}" alt="Prediction Graph will be displayed here">



            <!-- First Row -->
            <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                <div class="p-4 bg-red-100 rounded-lg">
                    <i data-lucide="anchor" class="w-6 h-6 text-red-700 mx-auto mb-2"></i>
                    <h3 class="text-lg font-semibold text-red-700">GT Compressor Decay State Coefficient</h3>
                    <p id="pressureValue" class="text-xl font-bold text-gray-900">{{ current_state[0] }} kMc</p>
                    <hr />
                    <hr class="border border-black" />
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Normal State : 1</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Acceptable State : 0.99</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Bad State : 0.97 to 0.98</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Very Bad State : 0.95 to 0.96</p>
                </div>
                <div class="p-4 bg-red-100 rounded-lg">
                    <i data-lucide="wind" class="w-6 h-6 text-red-700 mx-auto mb-2"></i>
                    <h3 class="text-lg font-semibold text-red-700">GT Turbine Decay State Coefficient</h3>
                    <p id="temperatureValue" class="text-xl font-bold text-gray-900">{{ current_state[1] }} kMt</p>
                    <hr class="border border-black" />
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Normal State : 1</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Acceptable State : 0.99</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Bad State : 0.98</p>
                    <p id="temperatureValue" class="text-md text-gray-900 text-left">Very Bad State :0.97</p>
                </div>
            </div>

        </div>

        <div class="bg-white shadow-lg rounded-lg m-6 p-6 w-full max-w-6xl mx-auto transition-transform duration-300 hover:shadow-xl hover:-translate-y-2">
            <h2 class="text-xl font-bold mb-4 text-gray-700 text-center">Naval System Model Explanation</h2>
            <p class="text-md text-gray-500 text-center mb-4">This model predicts the decay state coefficients for a naval system based on various operational features. The model uses linear regression to estimate the coefficients for the GT Compressor and GT Turbine decay states, helping to evaluate the condition of the system.</p>
        
            <div class="overflow-x-auto p-4">
                <h3 class="text-lg font-semibold text-gray-800">Input Features (Independent Variables):</h3>
                <ul class="list-disc pl-5">
                    <li><strong>Lever position</strong> - The position of the lever controlling the system.</li>
                    <li><strong>Ship speed</strong> - The speed of the ship.</li>
                    <li><strong>Gas Turbine shaft torque</strong> - The torque applied to the shaft of the gas turbine.</li>
                    <li><strong>Gas Turbine rate of revolutions</strong> - The rate of revolutions of the gas turbine.</li>
                    <li><strong>Gas Generator rate of revolutions</strong> - The rate of revolutions of the gas generator.</li>
                    <li><strong>Starboard Propeller Torque</strong> - The torque applied to the starboard propeller.</li>
                    <li><strong>Port Propeller Torque</strong> - The torque applied to the port propeller.</li>
                    <li><strong>HP Turbine exit temperature</strong> - The temperature at the exit of the HP turbine.</li>
                    <li><strong>GT Compressor inlet air temperature</strong> - The air temperature at the inlet of the GT Compressor.</li>
                    <li><strong>GT Compressor outlet air temperature</strong> - The air temperature at the outlet of the GT Compressor.</li>
                    <li><strong>HP Turbine exit pressure</strong> - The pressure at the exit of the HP turbine.</li>
                    <li><strong>GT Compressor inlet air pressure</strong> - The air pressure at the inlet of the GT Compressor.</li>
                    <li><strong>GT Compressor outlet air pressure</strong> - The air pressure at the outlet of the GT Compressor.</li>
                    <li><strong>Gas Turbine exhaust gas pressure</strong> - The exhaust gas pressure of the gas turbine.</li>
                    <li><strong>Turbine Injection Control</strong> - The control variable for turbine injection.</li>
                    <li><strong>Fuel flow</strong> - The flow of fuel into the system.</li>
                </ul>
            </div>
            <div class="relative flex justify-center">
                <!-- Embed or add the confusion matrix image here -->
                <img src="{{ url_for('static', filename='correlation.jpeg') }}" alt="" class="w-full max-w-xl rounded-lg shadow-lg">
            </div>
        
            <div class="overflow-x-auto p-4 mt-6">
                <h3 class="text-lg font-semibold text-gray-800">Output Features (Dependent Variables):</h3>
                <ul class="list-disc pl-5">
                    <li><strong>GT Compressor Decay State Coefficient (kMc)</strong>:
                        <ul class="list-inside">
                            <li><strong>Normal State:</strong> 1</li>
                            <li><strong>Acceptable State:</strong> 0.99</li>
                            <li><strong>Bad State:</strong> 0.97 to 0.98</li>
                            <li><strong>Very Bad State:</strong> 0.95 to 0.96</li>
                        </ul>
                    </li>
                    <li><strong>GT Turbine Decay State Coefficient (kMt)</strong>:
                        <ul class="list-inside">
                            <li><strong>Normal State:</strong> 1</li>
                            <li><strong>Acceptable State:</strong> 0.99</li>
                            <li><strong>Bad State:</strong> 0.98</li>
                            <li><strong>Very Bad State:</strong> 0.97</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="relative flex justify-center">
                <!-- Embed or add the confusion matrix image here -->
                <img src="{{ url_for('static', filename='coeff1.jpeg') }}" alt="" class="w-full max-w-xl rounded-lg shadow-lg">
            </div>
            <div class="relative flex justify-center">
                <!-- Embed or add the confusion matrix image here -->
                <img src="{{ url_for('static', filename='coeff2.jpeg') }}" alt="" class="w-full max-w-xl rounded-lg shadow-lg">
            </div>
        
            <div class="relative flex justify-center mt-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Model Algorithm:</h3>
                <p class="text-md text-gray-500 text-center">This model uses a linear regression algorithm to predict the decay state coefficients (kMc and kMt) based on the provided operational parameters. By learning the relationships between the input features and the coefficients, it helps assess the system's health.</p>
            </div>
        </div>
        
    </div>

    <style>
        body {
            background-image: url('https://images.pexels.com/photos/2326876/pexels-photo-2326876.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2');
        }

        .clip-arrow-inward-left {
            clip-path: polygon(0% 0%, 90% 0%, 100% 50%, 90% 100%, 0% 100%, 10% 50%);
        }

        @keyframes shake {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-5px);
            }

            50% {
                transform: translateX(5px);
            }

            75% {
                transform: translateX(-5px);
            }

            100% {
                transform: translateX(0);
            }
        }

        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }
    </style>

    <script>
        lucide.createIcons();
        document.getElementById("folderInput").addEventListener("change", function () {
            document.getElementById("uploadForm").submit(); // Auto-submit
        });
    </script>
</body>

</html>